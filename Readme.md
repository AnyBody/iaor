# Class for calculating Instantaneous Axis of Rotation

The `InstantaneousAxisOfRotation` class template will calculate the instantenous axis of rotation between two bodies. 

Instantenous axis of rotation are the points fixed to a body undergoing planar movement that has zero velocity at a particular instant of time. At this instant, the velocity vectors of the trajectories of other points in the body generate a circular field around this point which is identical to what is generated by a pure rotation.

Planar movement of a body is often described using a plane figure moving in a two-dimensional plane. The instant centre is the point in the moving plane around which all other points are rotating at a specific instant of time.

The continuous movement of a plane has an instant centre for every value of the time parameter. This generates a curve called the moving centrode. The points in the fixed plane corresponding to these instant centres form the fixed centrode.

------------------------------------------------------------------------------

Think of rotation as a manifestation of a change in coordinate direction. Affix a coordinate system at _any_ point on a rigid body and it is going to change direction _at the same rate_ regardless of the point location (even at the rotation axis). This is why angular velocity is shared among the entire rigid body.

Mathematically, the rate of change of a 3Ã—3 rotation matrix $R$ is $$ \frac{{\rm d}}{{\rm d}t}R = \vec{\omega} \times R$$ where $\vec{\omega}$ is the angular rotation vector, and $\times$ the vector cross product.

For the second part of your question a general rotation _can_ be decomposed into three rotations about three predefined axes (like precession, nutation and spin), or by a single rotation about an arbitrary axis. In either case, the rotation is going to be about a single axis and you need three parameters to specify it exactly. Either three scalar angle speeds about three predefined axes, or two parameters for the rotation axis, and one for the rotation speed magnitude.

Note also that the general motion of a rigid body is a rotation about some axis in 3D, coupled with a parallel translation along the same axis. The rotation and translation defines a screw in 3D and given the linear and angular velocities of _any_ point on the rigid body, the properties of the motion can be derived.

For example, said rigid body has rotational velocity $\vec{\omega}$ and linear velocity $\vec{v}_A$ at some point _A_ with position $\vec{r}_A$ at some instant. The following properties are defined:

 1. The rotation axis direction is $$\vec{e} = \frac{\vec{\omega}}{|\vec{\omega}|}$$
 2. The rotation magnitude is $$\omega = |\vec{\omega}|$$
 3. The point _C_ on the rotation line closest to the origin is $$\vec{r}_C = \vec{r}_A + \frac{\vec{\omega}\times\vec{v}_A}{\omega^2}$$
 4. The motion pitch (ratio of linear motion to angular motion) is $$ h = \frac{\vec{\omega} \cdot \vec{v}_A}{\omega^2}$$
 5. The linear velocity of point _C_ is $$\vec{v}_C = h\,\vec{\omega}$$

In summary, a single rotation speed, and a linear velocity vector at _some_ point is enough to describe the instantaneous motion of a rigid body both geometrically (rotation line in 3D, pitch and magnitude) and analytically (rigid body transformation of velocity to any other point).


---------------------------------------------------------
















EXAMPLE:
```
#include "<ANYBODY_PATH_TOOLBOX>/Rotations/InstantaneousAxisOfRotation.any"

Main = {


  // This is a simple example of using the InstantaneousAxisOfRotation class
  // to the calculate and vizualize the instantaneous axis of rotation 
  // between Body1 and Body2
  InstantaneousAxisOfRotation IAOR (AnyRefFrame& Body1, AnyRefFrame& Body2 ) = 
  {
      // The sphere drawn at the mid point of the vizualized axis.
      #var AnyVar SphereSize=0.02;
      
      // The length of the vizualized axis
      #var AnyVar AxisLength=2;
  
      // The line thickness of the vizualized axis.
      #var AnyVar LineThickness = 0.005;       

   };
```

The object will IAOR object will plot the axis, and provide the following outputs:

|---------------------|--------------|------------------------------------------------|
| Output variable     | Type         | Desciption                                     |
|---------------------|--------------|------------------------------------------------|
| MidPoint            | AnyVec3      | The mid point on axis in global coordinates    |
| Direction           | AnyVec3      | The direction of the axis in global coordinates|
|---------------------|--------------|------------------------------------------------| 
